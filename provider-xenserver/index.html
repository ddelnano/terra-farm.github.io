<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XenServer Provider :: Terra-Farm - The Terraform Community</title>
    <link rel="canonical" href="https://terra-farm.github.io/provider-xenserver/index.html">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../brand/css/site.css">
    </head>

<body class="article">
    <header class="header">
    <nav class="navbar is-primary" role="naviation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://terra-farm.github.io">Terra-Farm - The Terraform Community</a>
            <button class="navbar-burger burger" data-target="topbar-nav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-start">
                <a class="navbar-item" href="../main/installation.html">Installation</a>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link" href="#">Providers</a>
                    <div class="navbar-dropdown">
                        <a class="navbar-item" href="../provider-virtualbox/index.html">VirtualBox Provider</a>
                        <a class="navbar-item" href="../provider-xenorchestra/index.html">Xen Orchestra Provider</a>
                        <a class="navbar-item" href="index.html">XenServer Provider</a>
                    </div>
                </div>
                <!--<div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link" href="#">Modules</a>
                    <div class="navbar-dropdown">
                    </div>
                </div>-->
            </div>
        </div>
    </nav>
</header>    <div class="section">
    <div class="columns">
        <div class="column is-3 ">
            <aside class="menu is-hidden-mobile">
                <h5 class="subtitle is-5">XenServer Provider</h5>
<p class="menu-label">
General
</p>
<ul class="menu-list">
    <ul class="menu-list">
    <li data-depth="1">
        <a class="is-active" href="index.html">Usage</a>
            </li>
</ul>
</ul>
<p class="menu-label">
Data Sources
</p>
<ul class="menu-list">
    <ul class="menu-list">
    <li data-depth="1">
        <a  href="reference/datasource_pif.html">pif</a>
            </li>
    <li data-depth="1">
        <a  href="reference/datasource_pifs.html">pifs</a>
            </li>
    <li data-depth="1">
        <a  href="reference/datasource_sr.html">sr</a>
            </li>
</ul>
</ul>
<p class="menu-label">
Resources
</p>
<ul class="menu-list">
    <ul class="menu-list">
    <li data-depth="1">
        <a  href="reference/resource_sr.html">sr</a>
            </li>
    <li data-depth="1">
        <a  href="reference/resource_vbd.html">vbd</a>
            </li>
    <li data-depth="1">
        <a  href="reference/resource_vdi.html">vdi</a>
            </li>
    <li data-depth="1">
        <a  href="reference/resource_vif.html">vif</a>
            </li>
    <li data-depth="1">
        <a  href="reference/resource_vlan.html">vlan</a>
            </li>
    <li data-depth="1">
        <a  href="reference/resource_vm.html">vm</a>
            </li>
</ul>
</ul>
            </aside>
        </div>
        <div class="column is-9">
            <div class="toolbar" role="navigation">
    <button class="navigation-toggle"></button>
    <a href="../main/index.html" class="home-link"></a>
</div>            <div class="box content">
            <article class="doc">
    <h3 class="title is-3">XenServer Provider</h3>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The XenServer provider is used to interact with the resources supported by XenServer.
The provider needs to be configured with the proper credentials before it can be used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In your home folder, create a file <code>~/.terraformrc</code> with these contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hcl hljs" data-lang="hcl">providers {
  xenserver = "&lt;full path&gt;/terraform-provider-xenserver"
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
this is not yet updated for Terraform 0.11.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_usage"><a class="anchor" href="#_example_usage"></a>Example Usage</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hcl hljs" data-lang="hcl"># Configure the XenServer Provider
provider "xenserver" {
  url      = "&lt;xen-server-url&gt;"
  username = "&lt;user-name&gt;"
  password = "&lt;password&gt;"
}

// Create a new virtual machine
resource "xenserver_vm" "test" {
  base_template_name = "CentOS 7.4 Template"
  name_label = "test"
  static_mem_min = 8589934592
  static_mem_max = 8589934592
  dynamic_mem_min = 8589934592
  dynamic_mem_max = 8589934592
  vcpus = 1
  boot_order = "c"

  hard_drive {
    is_from_template = true
    user_device = "0"
  } # Template VM HDD
  cdrom {
    is_from_template = true
    user_device = "3"
  }
  network_interface {
    network_uuid = "92467b56-21a7-dfdd-b412-978181a69f32"
    device = 0
    mtu = 1500
    mac = ""
    other_config {
        ethtool-gso = "off"
        ethtool-ufo = "off"
        ethtool-tso = "off"
        ethtool-sg = "off"
        ethtool-tx = "off"
        ethtool-rx = "off"
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_xenserver_versions"><a class="anchor" href="#_xenserver_versions"></a>XenServer versions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Both backward and forward compatibility with the XenApi is mostly defined by the
link::https://github.com/amfranz/go-xen-api-client[go-xen-api-client] Go library.</p>
</div>
<div class="paragraph">
<p>Tested succesfully against:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>XenServer 7.2</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_authentication"><a class="anchor" href="#_authentication"></a>Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Authentication against the XenApi happens with username and password combination.
To protect your credentials for going in clear text over the wire, it is advised
to connect to SSL/TLS endpoints.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hcl hljs" data-lang="hcl">provider "kubernetes" {
  url      = "https://104.196.242.174"
  username = "XenMaster"
  password = "XenInfraAsCode"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_argument_reference"><a class="anchor" href="#_argument_reference"></a>Argument Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following arguments are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>url</code> - (Required) the XenApi endpoint of your XenServer or XenServer pool.</p>
</li>
<li>
<p><code>username</code> - (Required) The username to use for HTTP basic authentication when accessing
the XenApi endpoint.</p>
</li>
<li>
<p><code>password</code> - (Required) The password to use for HTTP basic authentication when accessing
the XenApi endpoint.</p>
</li>
</ul>
</div>
</div>
</div>

</article>            </div>
        </div>
    </div>
</div>    <footer class="footer is-secondary">
    <p>This site was built with <a href="https://antora.org">Antora</a>.</p>
</footer><script src="../brand/js/site.js"></script>
<script src="../brand/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script></body>

</html>